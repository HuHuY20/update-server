# خادم التحديثات

خادم API للتحقق من تحديثات التطبيق وإدارة عمليات التحديث.

## المميزات

- التحقق من توفر تحديثات جديدة
- دعم لنظامي Android و iOS
- توقيع رقمي للاستجابات
- واجهة API بسيطة وسهلة الاستخدام

## المتطلبات

- Node.js v14 أو أحدث
- npm v6 أو أحدث

## التثبيت والتشغيل

1. تثبيت الاعتمادات:
   ```bash
   npm install
   ```

2. إعداد متغيرات البيئة:
   ```
   API_SECRET=your_secret_key
   MIN_VERSION_ANDROID=1.0.1
   MIN_VERSION_IOS=1.0.1
   ```

3. تشغيل الخادم:
   ```bash
   npm start
   ```

## نقاط النهاية API

### فحص التحديثات
- **المسار**: `/check`
- **الطريقة**: POST
- **البيانات المطلوبة**:
  ```json
  {
    "appId": "com.example.app",
    "currentVersion": "1.0.0",
    "buildNumber": "100"
  }
  ```

### فحص حالة الخادم
- **المسار**: `/health`
- **الطريقة**: GET

## آلية التوقيع

- تُستخدم خوارزمية HMAC-SHA256 للتوقيع
- يتم توقيع جميع بيانات الاستجابة باستخدام المفتاح السري
- يتحقق التطبيق من التوقيع قبل قبول التحديث 